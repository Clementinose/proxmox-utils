#!/bin/bash

# FÃ¤rger
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
MAGENTA='\033[0;35m'
CYAN='\033[0;36m'
WHITE='\033[1;37m'
RESET='\033[0m'

# Clear screen och ram
clear
echo -e "${CYAN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${RESET}"
echo -e "${CYAN}â•‘${WHITE}      Clementinose Terminal Menu       ${CYAN}â•‘${RESET}"
echo -e "${CYAN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${RESET}"
echo ""

# Menyalternativ
echo -e "${GREEN}1)${RESET} LXC SSH setup"
echo -e "${GREEN}2)${RESET} Proxmox SSH setup (clements)"
echo -e "${GREEN}3)${RESET} Proxmox SSH setup (root)"
echo -e "${GREEN}4)${RESET} Node Power Monitor"
echo -e "${GREEN}5)${RESET} Node Temperature Monitor"
echo -e "${GREEN}6)${RESET} Node Fan Monitor"
echo -e "${GREEN}7)${RESET} Node Network Monitor"
echo -e "${RED}8)${RESET} Exit"
echo ""

# LÃ¤s anvÃ¤ndarval
read -p "$(echo -e ${YELLOW}VÃ¤lj ett alternativ: ${RESET})" choice

PUBKEY="ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAINr2Lm9pY8GLLgaPvmD+kbNKsQdJuKdHfa6amveI4xFL Generated By Termius"

run_script() {
    echo -e "${BLUE}â–¶ KÃ¶r $1...${RESET}"
    bash <(curl -fsSL "$2") "$PUBKEY"
    echo ""
    read -p "Tryck Enter fÃ¶r att Ã¥tergÃ¥ till menyn..."
}

case "$choice" in
  1) run_script "LXC SSH setup" "https://raw.githubusercontent.com/Clementinose/proxmox-utils/main/lxc-ssh/init.sh" ;;
  2) run_script "Proxmox SSH setup (clements)" "https://raw.githubusercontent.com/Clementinose/proxmox-utils/main/proxmox-ssh/init-proxmox.sh" ;;
  3) run_script "Proxmox SSH setup (root)" "https://raw.githubusercontent.com/Clementinose/proxmox-utils/main/proxmox-ssh/init-proxmox-root.sh" ;;
  4) run_script "Node Power Monitor" "https://raw.githubusercontent.com/Clementinose/proxmox-utils/main/power-monitor/monitor.sh" ;;
  5) run_script "Node Temperature Monitor" "https://raw.githubusercontent.com/Clementinose/proxmox-utils/main/temp-monitor/temp.sh" ;;
  6) run_script "Node Fan Monitor" "https://raw.githubusercontent.com/Clementinose/proxmox-utils/main/fan-monitor/fans.sh" ;;
  7) run_script "Node Network Monitor" "https://raw.githubusercontent.com/Clementinose/proxmox-utils/main/network-monitor/network.sh" ;;
  8) echo -e "${RED}ğŸ‘‹ Hej dÃ¥${RESET}" ; exit 0 ;;
  *) echo -e "${RED}âŒ Fel val${RESET}" ;;
esac
